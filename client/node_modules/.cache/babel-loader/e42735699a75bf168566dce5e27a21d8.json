{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/mrgil/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/Coincap/Coin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/mrgil/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/Coincap/Coin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\mrgil\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\Coincap\\\\Coin\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useEffect,useState}from'react';import{BrowserRouter,Routes,Route}from'react-router-dom';import{useSelector}from'react-redux';import ListPage from'./Main/LitsPage/CoinsPage';import{StorePage}from'./Main/BasketPage/StorePage';import InfoPage from'./Main/InfoPage/InfoPage';import getInfo from'./API/api';import Header from'./Header/Header';import Message from'./Message';import'./Styles/styles.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialState={id:'united-states-dollar',value:1,symbol:'$'};function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),coins=_useState2[0],setCoins=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchText=_useState4[0],setSearchText=_useState4[1];var _useState5=useState(10),_useState6=_slicedToArray(_useState5,2),coinsPerPage=_useState6[0],setCoinsPerPage=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),rateId=_useState8[0],setRateId=_useState8[1];var _useState9=useState(initialState),_useState10=_slicedToArray(_useState9,2),rate=_useState10[0],setRate=_useState10[1];var tasks=useSelector(function(state){return state;});useEffect(function(){var getCoins=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getInfo('assets/?offset=0&limit=4');case 2:response=_context.sent;setCoins(response);setTimeout(getCoins,10000);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getCoins(){return _ref.apply(this,arguments);};}();getCoins();},[]);useEffect(function(){var getRate=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!rateId){_context2.next=5;break;}_context2.next=3;return getInfo(\"rates/\".concat(rateId));case 3:response=_context2.sent;if(response){setRate({id:response.id,value:response.rateUsd,symbol:response.currencySymbol});}case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function getRate(){return _ref2.apply(this,arguments);};}();getRate();},[rateId]);var search=function search(text){return setSearchText(text);};var takeCoinsPerPage=function takeCoinsPerPage(number){return setCoinsPerPage(number);};var getRateId=function getRateId(id){return setRateId(id);};return/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(Header,{coins:coins,rate:rate,tasks:tasks,search:search,takeCoinsPerPage:takeCoinsPerPage,getRateId:getRateId}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/*\",element:/*#__PURE__*/_jsx(ListPage,{searchText:searchText,coinsPerPage:coinsPerPage,rate:rate})}),/*#__PURE__*/_jsx(Route,{path:\"/storepage\",element:/*#__PURE__*/_jsx(StorePage,{tasks:tasks})}),/*#__PURE__*/_jsx(Route,{path:\"/infopage/:id\",element:/*#__PURE__*/_jsx(InfoPage,{rate:rate})})]}),/*#__PURE__*/_jsx(Message,{})]});}export default App;","map":{"version":3,"sources":["C:/Users/mrgil/OneDrive/Рабочий стол/Coincap/Coin/src/App.jsx"],"names":["useEffect","useState","BrowserRouter","Routes","Route","useSelector","ListPage","StorePage","InfoPage","getInfo","Header","Message","initialState","id","value","symbol","App","coins","setCoins","searchText","setSearchText","coinsPerPage","setCoinsPerPage","rateId","setRateId","rate","setRate","tasks","state","getCoins","response","setTimeout","getRate","rateUsd","currencySymbol","search","text","takeCoinsPerPage","number","getRateId"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport ListPage from './Main/LitsPage/CoinsPage';\r\nimport { StorePage } from './Main/BasketPage/StorePage';\r\nimport InfoPage from './Main/InfoPage/InfoPage';\r\nimport getInfo from './API/api';\r\nimport Header from './Header/Header';\r\nimport Message from './Message';\r\nimport './Styles/styles.scss';\r\n\r\nconst initialState = {\r\n  id: 'united-states-dollar',\r\n  value: 1,\r\n  symbol: '$',\r\n};\r\n\r\nfunction App() {\r\n  const [coins, setCoins] = useState([]);\r\n  const [searchText, setSearchText] = useState('');\r\n  const [coinsPerPage, setCoinsPerPage] = useState(10);\r\n  const [rateId, setRateId] = useState('');\r\n  const [rate, setRate] = useState(initialState);\r\n\r\n  const tasks = useSelector((state) => state);\r\n\r\n  useEffect(() => {\r\n    const getCoins = async () => {\r\n      const response = await getInfo('assets/?offset=0&limit=4');\r\n      setCoins(response);\r\n      setTimeout(getCoins, 10000);\r\n    };\r\n    getCoins();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const getRate = async () => {\r\n      if (rateId) {\r\n        const response = await getInfo(`rates/${rateId}`);\r\n        if (response) {\r\n          setRate({\r\n            id: response.id,\r\n            value: response.rateUsd,\r\n            symbol: response.currencySymbol,\r\n          });\r\n        }\r\n      }\r\n    };\r\n    getRate();\r\n  }, [rateId]);\r\n\r\n  const search = (text) => setSearchText(text);\r\n\r\n  const takeCoinsPerPage = (number) => setCoinsPerPage(number);\r\n\r\n  const getRateId = (id) => setRateId(id);\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <Header coins={coins} rate={rate} tasks={tasks} search={search} takeCoinsPerPage={takeCoinsPerPage} getRateId={getRateId} />\r\n      <Routes>\r\n        <Route path=\"/*\" element={<ListPage searchText={searchText} coinsPerPage={coinsPerPage} rate={rate} />} />\r\n        <Route path=\"/storepage\" element={<StorePage tasks={tasks} />} />\r\n        <Route path=\"/infopage/:id\" element={<InfoPage rate={rate} />} />\r\n      </Routes>\r\n      <Message />\r\n    </BrowserRouter>\r\n\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}