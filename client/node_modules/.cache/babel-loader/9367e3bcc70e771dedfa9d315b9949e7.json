{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/mrgil/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/Coincap/Coin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\mrgil\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\Coincap\\\\Coin\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{getInfo}from'../API/api';import*as actions from'../Store/actions';function handleCoinSubmit(_x,_x2,_x3){return _handleCoinSubmit.apply(this,arguments);}function _handleCoinSubmit(){_handleCoinSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id,dispatch,target){var coininf,input,count,price,totalPrice,name;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getInfo(\"assets/\".concat(id));case 2:coininf=_context.sent;input=target.querySelector('input');count=Number(input.value);if(!(count===0||count===' ')){_context.next=7;break;}return _context.abrupt(\"return\");case 7:input.value='';price=Number(coininf.priceUsd);totalPrice=price*count;name=coininf.name;dispatch(actions.addCoin({title:{name:name,count:count,priceUsd:price,totalpriceUsd:totalPrice,key:id}}));case 12:case\"end\":return _context.stop();}}},_callee);}));return _handleCoinSubmit.apply(this,arguments);}export default handleCoinSubmit;","map":{"version":3,"sources":["C:/Users/mrgil/OneDrive/Рабочий стол/Coincap/Coin/src/Functions/handleCoinSubmit.js"],"names":["getInfo","actions","handleCoinSubmit","id","dispatch","target","coininf","input","querySelector","count","Number","value","price","priceUsd","totalPrice","name","addCoin","title","totalpriceUsd","key"],"mappings":"0YAAA,OAASA,OAAT,KAAwB,YAAxB,CACA,MAAO,GAAKC,CAAAA,OAAZ,KAAyB,kBAAzB,C,QAEeC,CAAAA,gB,oKAAf,iBAAgCC,EAAhC,CAAoCC,QAApC,CAA8CC,MAA9C,sLACwBL,CAAAA,OAAO,kBAAWG,EAAX,EAD/B,QACQG,OADR,eAEQC,KAFR,CAEgBF,MAAM,CAACG,aAAP,CAAqB,OAArB,CAFhB,CAGQC,KAHR,CAGgBC,MAAM,CAACH,KAAK,CAACI,KAAP,CAHtB,MAIMF,KAAK,GAAK,CAAV,EAAeA,KAAK,GAAK,GAJ/B,kEAKEF,KAAK,CAACI,KAAN,CAAc,EAAd,CACMC,KANR,CAMgBF,MAAM,CAACJ,OAAO,CAACO,QAAT,CANtB,CAOQC,UAPR,CAOqBF,KAAK,CAAGH,KAP7B,CAQUM,IARV,CAQmBT,OARnB,CAQUS,IARV,CAUEX,QAAQ,CAACH,OAAO,CAACe,OAAR,CAAgB,CACvBC,KAAK,CAAE,CACLF,IAAI,CAAJA,IADK,CAELN,KAAK,CAALA,KAFK,CAGLI,QAAQ,CAAED,KAHL,CAILM,aAAa,CAAEJ,UAJV,CAKLK,GAAG,CAAEhB,EALA,CADgB,CAAhB,CAAD,CAAR,CAVF,uD,mDAqBA,cAAeD,CAAAA,gBAAf","sourcesContent":["import { getInfo } from '../API/api';\r\nimport * as actions from '../Store/actions';\r\n\r\nasync function handleCoinSubmit(id, dispatch, target) {\r\n  const coininf = await getInfo(`assets/${id}`);\r\n  const input = target.querySelector('input');\r\n  const count = Number(input.value);\r\n  if (count === 0 || count === ' ') return;\r\n  input.value = '';\r\n  const price = Number(coininf.priceUsd);\r\n  const totalPrice = price * count;\r\n  const { name } = coininf;\r\n\r\n  dispatch(actions.addCoin({\r\n    title: {\r\n      name,\r\n      count,\r\n      priceUsd: price,\r\n      totalpriceUsd: totalPrice,\r\n      key: id,\r\n    },\r\n  }));\r\n}\r\n\r\nexport default handleCoinSubmit;\r\n"]},"metadata":{},"sourceType":"module"}