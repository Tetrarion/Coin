{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/mrgil/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/Coincap/Coin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/mrgil/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/Coincap/Coin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\mrgil\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\Coincap\\\\Coin\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useState}from'react';// eslint-disable-next-line import/no-extraneous-dependencies\nimport{AreaChart,Area,YAxis,XAxis,CartesianGrid,Tooltip,Legend,ResponsiveContainer}from'recharts';import{getInfo}from'../../API/api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function History(_ref){var id=_ref.id,choosedValue=_ref.choosedValue;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),history=_useState2[0],SetHistory=_useState2[1];var getHistory=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(interval){var truncatedArray,dateInformation;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:truncatedArray=[];_context.next=3;return getInfo(\"assets/\".concat(id,\"/history?interval=\").concat(interval));case 3:dateInformation=_context.sent;if(interval==='d1'){truncatedArray=dateInformation.map(function(dateinfo){var container={};container.priceUsd=dateinfo.priceUsd;container.date=dateinfo.date.substr(0,10);return container;});}else{truncatedArray=dateInformation.map(function(dateinfo){var container={};container.priceUsd=dateinfo.priceUsd;container.date=dateinfo.date.substr(11,5);return container;});}SetHistory(truncatedArray);case 6:case\"end\":return _context.stop();}}},_callee);}));return function getHistory(_x){return _ref2.apply(this,arguments);};}();useEffect(function(){var selectValue=document.querySelector('.info-page__select');var select=selectValue.value;getHistory(select);},[choosedValue]);return/*#__PURE__*/_jsx(\"div\",{className:\"chart\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(AreaChart,{data:history,margin:{top:10,right:30,left:0,bottom:0},children:[/*#__PURE__*/_jsx(\"defs\",{children:/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"colorPv\",x1:\"0\",y1:\"0\",x2:\"0\",y2:\"1\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"5%\",stopColor:\"#82ca9d\",stopOpacity:0.8}),/*#__PURE__*/_jsx(\"stop\",{offset:\"95%\",stopColor:\"#82ca9d\",stopOpacity:0})]})}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Area,{type:\"monotone\",dataKey:\"priceUsd\",stroke:\"#8884d8\",fillOpacity:1,fill:\"url(#colorUv)\"})]})})});}export default History;","map":{"version":3,"sources":["C:/Users/mrgil/OneDrive/Рабочий стол/Coincap/Coin/src/Components/InfoPageComponents/History.jsx"],"names":["React","useEffect","useState","AreaChart","Area","YAxis","XAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","getInfo","History","id","choosedValue","history","SetHistory","getHistory","interval","truncatedArray","dateInformation","map","dateinfo","container","priceUsd","date","substr","selectValue","document","querySelector","select","value","top","right","left","bottom"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\n// eslint-disable-next-line import/no-extraneous-dependencies\r\nimport {\r\n  AreaChart, Area, YAxis, XAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer,\r\n} from 'recharts';\r\nimport { getInfo } from '../../API/api';\r\n\r\nfunction History({ id, choosedValue }) {\r\n  const [history, SetHistory] = useState('');\r\n\r\n  const getHistory = async (interval) => {\r\n    let truncatedArray = [];\r\n    const dateInformation = await getInfo(`assets/${id}/history?interval=${interval}`);\r\n    if (interval === 'd1') {\r\n      truncatedArray = dateInformation.map((dateinfo) => {\r\n        const container = {};\r\n        container.priceUsd = dateinfo.priceUsd;\r\n        container.date = dateinfo.date.substr(0, 10);\r\n        return container;\r\n      });\r\n    } else {\r\n      truncatedArray = dateInformation.map((dateinfo) => {\r\n        const container = {};\r\n        container.priceUsd = dateinfo.priceUsd;\r\n        container.date = dateinfo.date.substr(11, 5);\r\n        return container;\r\n      });\r\n    }\r\n    SetHistory(truncatedArray);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const selectValue = document.querySelector('.info-page__select');\r\n    const select = selectValue.value;\r\n    getHistory(select);\r\n  }, [choosedValue]);\r\n\r\n  return (\r\n    <div className=\"chart\">\r\n      <ResponsiveContainer width=\"100%\" height={300}>\r\n        <AreaChart\r\n          data={history}\r\n          margin={{\r\n            top: 10, right: 30, left: 0, bottom: 0,\r\n          }}\r\n        >\r\n          <defs>\r\n            <linearGradient id=\"colorPv\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n              <stop offset=\"5%\" stopColor=\"#82ca9d\" stopOpacity={0.8} />\r\n              <stop offset=\"95%\" stopColor=\"#82ca9d\" stopOpacity={0} />\r\n            </linearGradient>\r\n          </defs>\r\n          <XAxis dataKey=\"date\" />\r\n          <YAxis />\r\n          <CartesianGrid strokeDasharray=\"3 3\" />\r\n          <Tooltip />\r\n          <Legend />\r\n          <Area type=\"monotone\" dataKey=\"priceUsd\" stroke=\"#8884d8\" fillOpacity={1} fill=\"url(#colorUv)\" />\r\n        </AreaChart>\r\n      </ResponsiveContainer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default History;\r\n"]},"metadata":{},"sourceType":"module"}