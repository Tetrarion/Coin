{"ast":null,"code":"import _slicedToArray from\"C:/Users/mrgil/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/Coincap/Coin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useDispatch}from'react-redux';import{Link}from'react-router-dom';import fixed from'../../utilities/fixed';import showInputForCount from'../../utilities/showInputForCount';import*as actions from'../../Store/actions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CoinBlock(_ref){var coins=_ref.coins;var dispatch=useDispatch();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),inputValue=_useState2[0],setInputValue=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),prevElement=_useState4[0],setPrevElement=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var savePrevElement=function savePrevElement(targetElement){if(prevElement!==targetElement){showInputForCount(targetElement,prevElement);setPrevElement(targetElement);}};useEffect(function(){setMessage(document.querySelector('.message'));},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"list-page__coins-list\",children:// eslint-disable-next-line no-return-assign\ncoins.map(function(coin){return/*#__PURE__*/ (// eslint-disable-next-line jsx-a11y/click-events-have-key-events\n_jsxs(\"div\",{className:\"coin\",id:coin.id,onClick:function onClick(event){return savePrevElement(event.currentTarget);},role:\"button\",tabIndex:0,children:[/*#__PURE__*/_jsx(\"div\",{className:\"coin__info\",children:coin.rank}),/*#__PURE__*/_jsxs(Link,{className:\"coin__info\",to:\"/infopage/\".concat(coin.id),children:[/*#__PURE__*/_jsx(\"div\",{className:\"coin__info-name\",children:coin.name}),/*#__PURE__*/_jsx(\"div\",{className:\"coin__info-symbol\",children:coin.symbol})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"coin__info\",children:[\"$\",fixed(coin.priceUsd)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"coin__info-sm\",children:[\"$\",fixed(coin.marketCapUsd)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"coin__info-sm\",children:[\"$\",fixed(coin.vwap24Hr)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"coin__info-sm\",children:[\"$\",fixed(coin.supply)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"coin__info-sm\",children:[\"$\",fixed(coin.volumeUsd24Hr)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"coin__info\",children:[fixed(coin.changePercent24Hr),\"%\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"coin__form coin__form--display--none\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"coin__form-input\",type:\"number\",onChange:function onChange(e){setInputValue(e.target.valueAsNumber);}// onInput={(e) => { e.target.value = e.target.value.replace(/-/g, '1'); }}\n}),/*#__PURE__*/_jsx(\"button\",{className:\"form-button form-button--color--green\",onClick:function onClick(){dispatch(actions.loadCoin(coin.id,inputValue,message));},children:/*#__PURE__*/_jsx(\"div\",{className:\"form-button__text\",children:\"Add to basket\"})})]})]},coin.id));})});}export default CoinBlock;","map":{"version":3,"sources":["C:/Users/mrgil/OneDrive/Рабочий стол/Coincap/Coin/src/Components/ListPageComponents/CoinBlock.jsx"],"names":["React","useEffect","useState","useDispatch","Link","fixed","showInputForCount","actions","CoinBlock","coins","dispatch","inputValue","setInputValue","prevElement","setPrevElement","message","setMessage","savePrevElement","targetElement","document","querySelector","map","coin","id","event","currentTarget","rank","name","symbol","priceUsd","marketCapUsd","vwap24Hr","supply","volumeUsd24Hr","changePercent24Hr","e","target","valueAsNumber","loadCoin"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport fixed from '../../utilities/fixed';\r\nimport showInputForCount from '../../utilities/showInputForCount';\r\nimport * as actions from '../../Store/actions';\r\n\r\nfunction CoinBlock({ coins }) {\r\n  const dispatch = useDispatch();\r\n\r\n  const [inputValue, setInputValue] = useState(0);\r\n  const [prevElement, setPrevElement] = useState('');\r\n  const [message, setMessage] = useState('');\r\n\r\n  const savePrevElement = (targetElement) => {\r\n    if (prevElement !== targetElement) {\r\n      showInputForCount(targetElement, prevElement);\r\n      setPrevElement(targetElement);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setMessage(document.querySelector('.message'));\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"list-page__coins-list\">\r\n      {\r\n                  // eslint-disable-next-line no-return-assign\r\n                  coins.map((coin) => (\r\n                    // eslint-disable-next-line jsx-a11y/click-events-have-key-events\r\n                    <div className=\"coin\" id={coin.id} key={coin.id} onClick={(event) => savePrevElement(event.currentTarget)} role=\"button\" tabIndex={0}>\r\n                      <div className=\"coin__info\">\r\n                        {coin.rank}\r\n                      </div>\r\n                      <Link className=\"coin__info\" to={`/infopage/${coin.id}`}>\r\n                        <div className=\"coin__info-name\">\r\n                          {coin.name}\r\n                        </div>\r\n                        <div className=\"coin__info-symbol\">\r\n                          {coin.symbol}\r\n                        </div>\r\n                      </Link>\r\n                      <div className=\"coin__info\">\r\n                        $\r\n                        {fixed(coin.priceUsd)}\r\n                      </div>\r\n                      <div className=\"coin__info-sm\">\r\n                        $\r\n                        {fixed(coin.marketCapUsd)}\r\n                      </div>\r\n                      <div className=\"coin__info-sm\">\r\n                        $\r\n                        {fixed(coin.vwap24Hr)}\r\n                      </div>\r\n                      <div className=\"coin__info-sm\">\r\n                        $\r\n                        {fixed(coin.supply)}\r\n                      </div>\r\n                      <div className=\"coin__info-sm\">\r\n                        $\r\n                        {fixed(coin.volumeUsd24Hr)}\r\n                      </div>\r\n                      <div className=\"coin__info\">\r\n                        {fixed(coin.changePercent24Hr)}\r\n                        %\r\n                      </div>\r\n                      <div className=\"coin__form coin__form--display--none\">\r\n                        <input\r\n                          className=\"coin__form-input\"\r\n                          type=\"number\"\r\n                          onChange={(e) => {\r\n                            setInputValue(e.target.valueAsNumber);\r\n                          }}\r\n                          // onInput={(e) => { e.target.value = e.target.value.replace(/-/g, '1'); }}\r\n                        />\r\n                        <button className=\"form-button form-button--color--green\" onClick={() => { dispatch(actions.loadCoin(coin.id, inputValue, message)); }}>\r\n                          <div className=\"form-button__text\">Add to basket</div>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  ))\r\n              }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CoinBlock;\r\n"]},"metadata":{},"sourceType":"module"}