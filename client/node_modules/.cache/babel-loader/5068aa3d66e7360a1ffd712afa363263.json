{"ast":null,"code":"import _slicedToArray from\"C:/Users/mrgil/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/Coincap/Coin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import HeaderBlocks from\"../Components/Header/HeaderBlocks\";import{totalPrice}from\"../Functions/totalprice\";import{Link}from'react-router-dom';import{priceDiff}from\"../Functions/priceDiff\";import{fixed}from\"../Functions/fixed\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Header(_ref){var coins=_ref.coins,tasks=_ref.tasks;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),totalprice=_useState2[0],SetTotalPrice=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),priceDifferences=_useState4[0],setPriceDifferences=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),priceProcent=_useState6[0],setPriceProcent=_useState6[1];var currentCoins=coins.slice(0,3);var getUpdateCoins=function getUpdateCoins(){var array=[];tasks.forEach(function(task){var updateCoins=coins.find(function(coin){return coin.id===task.key;});array.push(updateCoins);});return array;};var getProcent=function getProcent(totalprice,priceDifferences){if(!tasks.length)return setPriceProcent(null);var procent=priceDifferences/(totalprice/100);setPriceProcent(fixed(procent));};var getTotalPrice=function getTotalPrice(){if(!tasks.length)return SetTotalPrice(0);var totalprice=totalPrice(tasks);SetTotalPrice(totalprice);return totalprice;};var getPriceDifferences=function getPriceDifferences(totalprice){if(!tasks.length)return setPriceDifferences(null);var array=getUpdateCoins();var updateprice=priceDiff(array,tasks);var priceDifferences=totalprice-updateprice;priceDifferences=fixed(priceDifferences);setPriceDifferences(priceDifferences);return priceDifferences;};useEffect(function(){var totalprice=getTotalPrice();var priceDifferences=getPriceDifferences(totalprice);getProcent(totalprice,priceDifferences);});return/*#__PURE__*/_jsx(\"div\",{className:\"header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row align-items-center mb-4 mt-2 py-2\",children:[/*#__PURE__*/_jsx(HeaderBlocks,{currentCoins:currentCoins}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg col-sm text-center\",children:/*#__PURE__*/_jsx(Link,{to:'/*',children:\"List page\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg col-sm text-center\",children:[/*#__PURE__*/_jsx(Link,{to:'/storepage',children:\"Store:\"}),\" $\",totalprice,\" \",priceDifferences,\" (\",priceProcent,\"%)\"]})]})})});}","map":{"version":3,"sources":["C:/Users/mrgil/OneDrive/Рабочий стол/Coincap/Coin/src/Head/Header.jsx"],"names":["useEffect","useState","HeaderBlocks","totalPrice","Link","priceDiff","fixed","Header","coins","tasks","totalprice","SetTotalPrice","priceDifferences","setPriceDifferences","priceProcent","setPriceProcent","currentCoins","slice","getUpdateCoins","array","forEach","task","updateCoins","find","coin","id","key","push","getProcent","length","procent","getTotalPrice","getPriceDifferences","updateprice"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport HeaderBlocks from \"../Components/Header/HeaderBlocks\";\r\nimport { totalPrice } from \"../Functions/totalprice\";\r\nimport {Link} from 'react-router-dom';\r\nimport { priceDiff } from \"../Functions/priceDiff\"; \r\nimport { fixed } from \"../Functions/fixed\";\r\n\r\nexport default function Header ({ coins, tasks }) {\r\n    const [totalprice, SetTotalPrice] = useState(0);\r\n    const [priceDifferences, setPriceDifferences] = useState(null);\r\n    const [priceProcent, setPriceProcent] = useState(null);\r\n\r\n    let currentCoins = coins.slice(0, 3);\r\n\r\n    const getUpdateCoins = () => {\r\n        let array = [];\r\n        tasks.forEach(task => {\r\n            let updateCoins = coins.find(coin => coin.id === task.key);\r\n            array.push(updateCoins);\r\n        });\r\n        return array;\r\n    };\r\n\r\n    const getProcent = (totalprice, priceDifferences) => {\r\n        if (!tasks.length) return setPriceProcent(null);\r\n        let procent = priceDifferences / (totalprice / 100);\r\n        setPriceProcent(fixed(procent));\r\n    };\r\n\r\n    const getTotalPrice = () => {\r\n        if (!tasks.length) return SetTotalPrice(0);\r\n        let totalprice = totalPrice(tasks);\r\n        SetTotalPrice(totalprice); \r\n        return totalprice;\r\n    };\r\n\r\n    const getPriceDifferences = (totalprice) => {\r\n        if (!tasks.length) return setPriceDifferences(null);\r\n        let array = getUpdateCoins();\r\n        let updateprice = priceDiff(array, tasks);\r\n        let priceDifferences = totalprice - updateprice;\r\n        priceDifferences = fixed(priceDifferences);\r\n        setPriceDifferences(priceDifferences);\r\n        return priceDifferences;\r\n    };\r\n\r\n    useEffect(() => {\r\n        let totalprice = getTotalPrice();\r\n        let priceDifferences = getPriceDifferences(totalprice);\r\n        getProcent(totalprice, priceDifferences);\r\n    });\r\n\r\n    return (\r\n        <div className=\"header\">\r\n            <div className=\"container\">\r\n                <div className=\"row align-items-center mb-4 mt-2 py-2\">\r\n                    <HeaderBlocks currentCoins={currentCoins}/>\r\n                    <div className=\"col-lg col-sm text-center\">\r\n                        <Link to={'/*'}>List page</Link>\r\n                    </div>\r\n                    <div className=\"col-lg col-sm text-center\">\r\n                    <Link to={'/storepage'}>Store:</Link> ${totalprice} {priceDifferences} ({priceProcent}%)\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}