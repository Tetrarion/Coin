{"ast":null,"code":"import _slicedToArray from\"C:/Users/mrgil/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/Coincap/Coin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import HeaderBlocks from'../Components/Header/HeaderBlocks';import totalPrice from'../utilities/totalprice';import priceDiff from'../utilities/priceDiff';import fixed from'../utilities/fixed';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Header(_ref){var coins=_ref.coins,tasks=_ref.tasks;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),totalprice=_useState2[0],SetTotalPrice=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),priceDifferences=_useState4[0],setPriceDifferences=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),priceProcent=_useState6[0],setPriceProcent=_useState6[1];var currentCoins=coins.slice(0,3);var getUpdateCoins=function getUpdateCoins(){var array=[];tasks.forEach(function(task){var updateCoins=coins.find(function(coin){return coin.id===task.key;});array.push(updateCoins);});return array;};var getProcent=function getProcent(totalAmount,priceDifference){if(!tasks.length)return setPriceProcent(null);var procent=priceDifference/(totalAmount/100);setPriceProcent(fixed(procent));return'';};var getTotalPrice=function getTotalPrice(){if(!tasks.length)return SetTotalPrice(0);var totalAmount=totalPrice(tasks);SetTotalPrice(fixed(totalAmount));return totalAmount;};var getPriceDifferences=function getPriceDifferences(totalAmount){if(!tasks.length)return setPriceDifferences(null);var array=getUpdateCoins();var priceDifference=priceDiff(array,tasks,totalAmount);setPriceDifferences(fixed(priceDifference));return priceDifference;};useEffect(function(){var totalAmount=getTotalPrice();var priceDifference=getPriceDifferences(totalAmount);getProcent(totalAmount,priceDifference);});return/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popular-coins\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"popular-coins__top\",children:\"MOST POPULAR COINS\"}),/*#__PURE__*/_jsx(HeaderBlocks,{currentCoins:currentCoins})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"navigation\",children:[/*#__PURE__*/_jsx(Link,{className:\"navigation__link\",to:'/*',children:\"List page\"}),/*#__PURE__*/_jsxs(Link,{className:\"navigation__link\",to:\"/storepage\",children:[\"Basket:\",' ',\"$\",totalprice,' ',priceDifferences,' ',\"(\",priceProcent,\"%)\"]})]})]});}export default Header;","map":{"version":3,"sources":["C:/Users/mrgil/OneDrive/Рабочий стол/Coincap/Coin/src/Head/Header.jsx"],"names":["React","useEffect","useState","Link","HeaderBlocks","totalPrice","priceDiff","fixed","Header","coins","tasks","totalprice","SetTotalPrice","priceDifferences","setPriceDifferences","priceProcent","setPriceProcent","currentCoins","slice","getUpdateCoins","array","forEach","task","updateCoins","find","coin","id","key","push","getProcent","totalAmount","priceDifference","length","procent","getTotalPrice","getPriceDifferences"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport HeaderBlocks from '../Components/Header/HeaderBlocks';\r\nimport totalPrice from '../utilities/totalprice';\r\nimport priceDiff from '../utilities/priceDiff';\r\nimport fixed from '../utilities/fixed';\r\n\r\nfunction Header({ coins, tasks }) {\r\n  const [totalprice, SetTotalPrice] = useState(0);\r\n  const [priceDifferences, setPriceDifferences] = useState(null);\r\n  const [priceProcent, setPriceProcent] = useState(null);\r\n\r\n  const currentCoins = coins.slice(0, 3);\r\n\r\n  const getUpdateCoins = () => {\r\n    const array = [];\r\n    tasks.forEach((task) => {\r\n      const updateCoins = coins.find((coin) => coin.id === task.key);\r\n      array.push(updateCoins);\r\n    });\r\n    return array;\r\n  };\r\n\r\n  const getProcent = (totalAmount, priceDifference) => {\r\n    if (!tasks.length) return setPriceProcent(null);\r\n    const procent = priceDifference / (totalAmount / 100);\r\n    setPriceProcent(fixed(procent));\r\n    return '';\r\n  };\r\n\r\n  const getTotalPrice = () => {\r\n    if (!tasks.length) return SetTotalPrice(0);\r\n    const totalAmount = totalPrice(tasks);\r\n    SetTotalPrice(fixed(totalAmount));\r\n    return totalAmount;\r\n  };\r\n\r\n  const getPriceDifferences = (totalAmount) => {\r\n    if (!tasks.length) return setPriceDifferences(null);\r\n    const array = getUpdateCoins();\r\n    const priceDifference = priceDiff(array, tasks, totalAmount);\r\n    setPriceDifferences(fixed(priceDifference));\r\n    return priceDifference;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const totalAmount = getTotalPrice();\r\n    const priceDifference = getPriceDifferences(totalAmount);\r\n    getProcent(totalAmount, priceDifference);\r\n  });\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      <div className=\"popular-coins\">\r\n        <div className=\"popular-coins__top\">\r\n          MOST POPULAR COINS\r\n        </div>\r\n        <HeaderBlocks currentCoins={currentCoins} />\r\n      </div>\r\n      <div className=\"navigation\">\r\n        <Link className=\"navigation__link\" to={'/*'}>\r\n          List page\r\n        </Link>\r\n        <Link className=\"navigation__link\" to=\"/storepage\">\r\n          Basket:\r\n          {' '}\r\n          $\r\n          {totalprice}\r\n          {' '}\r\n          {priceDifferences}\r\n          {' '}\r\n          (\r\n          {priceProcent}\r\n          %)\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n"]},"metadata":{},"sourceType":"module"}